---
description: 코드 검토를 위한 워크플로우 - Boris 방식의 Verify 단계
---

# /review 워크플로우

HANDOFF.md를 기반으로 코드를 검토하는 프로세스입니다.

## ⚠️ 중요 원칙

> **새 세션에서 실행**: 코드를 작성한 세션과 다른 새 세션에서 실행하세요.
> 이는 Context Bias를 제거하여 객관적인 검토를 가능하게 합니다.

## 워크플로우 단계

### 1. HANDOFF.md 확인

작업 인수인계 문서를 읽고 변경 내용을 파악합니다.

```
templates/HANDOFF.md 확인:
- 변경된 파일 목록
- 구현 의도
- 설계 결정 사항
```

### 2. 변경 파일 분석

변경된 모든 파일을 검토합니다.

```
- 각 파일의 변경 내용 확인
- 전체 컨텍스트에서 변경 이해
- 코드 흐름 추적
```

### 3. 버그/문제점 탐지

잠재적인 버그와 문제점을 찾습니다.

#### 검토 항목

**🐛 버그 체크**
- [ ] null/undefined 처리
- [ ] 배열 인덱스 범위
- [ ] 비동기 처리 오류
- [ ] 타입 오류
- [ ] 엣지 케이스

**🔒 보안 체크**
- [ ] 입력값 검증
- [ ] SQL 인젝션
- [ ] XSS 취약점
- [ ] 인증/권한 검사
- [ ] 민감 정보 노출

**⚡ 성능 체크**
- [ ] 불필요한 반복
- [ ] N+1 쿼리 문제
- [ ] 메모리 누수

**📖 가독성 체크**
- [ ] 명확한 네이밍
- [ ] 적절한 주석
- [ ] 코드 복잡도

### 4. 개선 제안 작성

발견된 문제에 대한 개선 방안을 제안합니다.

```
- 구체적인 코드 라인 지정
- 개선된 코드 예시 제공
- 심각도 레벨 명시
```

### 5. 결과 보고서 생성

검토 결과를 정리하여 보고합니다.

```markdown
## 🔎 코드 리뷰 결과

### 📋 HANDOFF 요약
- 변경 목적: [요약]
- 변경 범위: [파일 목록]

### 🐛 발견된 버그
- **[🔴 높음]** `file.ts:45` - 설명 및 수정 제안

### ⚠️ 잠재적 문제
- **[🟡 중간]** 설명

### 💡 개선 제안
- **[🟢 낮음]** 제안 사항

### ✅ 결론
- **승인** / **수정 필요** / **거부**
- 총평
```

## 심각도 레벨

| 레벨 | 아이콘 | 설명 | 조치 |
|------|--------|------|------|
| 높음 | 🔴 | 심각한 버그/보안 취약점 | 즉시 수정 필요 |
| 중간 | 🟡 | 잠재적 문제 | 수정 권장 |
| 낮음 | 🟢 | 개선 제안 | 선택적 수정 |

## 검토 후 처리

### 승인된 경우
- 변경 사항 반영 완료
- HANDOFF.md 삭제 또는 보관

### 수정 필요한 경우
- 피드백 내용 기반으로 수정
- 수정 후 다시 `/review` 실행

### 거부된 경우
- 근본적인 재설계 필요
- 새로운 접근 방식으로 `/develop` 재시작

## 예시

**명령**: `/review`

**실행 결과**:
```markdown
## 🔎 코드 리뷰 결과

### 📋 HANDOFF 요약
- 변경 목적: 사용자 로그인 기능 구현
- 변경 범위: src/api/auth/login.ts, src/utils/jwt.ts

### 🐛 발견된 버그
- **[🔴 높음]** `login.ts:32` - 비밀번호 비교 시 timing attack 취약
  - 수정 제안: `bcrypt.compare()` 사용

### 💡 개선 제안
- **[🟢 낮음]** 로그인 시도 횟수 제한 추가 권장

### ✅ 결론
- **수정 필요**
- 보안 취약점 수정 후 재검토 권장
```
