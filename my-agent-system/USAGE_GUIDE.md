# 🚀 My Agent System 사용 가이드

> Antigravity 환경을 위한 커스텀 멀티 에이전트 시스템 완전 가이드

---

## 📑 목차

1. [시스템 개요](#-시스템-개요)
2. [빠른 시작](#-빠른-시작)
3. [워크플로우 명령어](#-워크플로우-명령어)
4. [에이전트 시스템](#-에이전트-시스템)
5. [스킬 가이드](#-스킬-가이드)
6. [피드백 루프 (Boris 방식)](#-피드백-루프-boris-방식)
7. [템플릿](#-템플릿)
8. [실전 예시](#-실전-예시)
9. [FAQ](#-faq)

---

## 🎯 시스템 개요

### 이 시스템은 무엇인가요?

`my-agent-system`은 **Antigravity AI 환경**에서 동작하는 경량화된 멀티 에이전트 시스템입니다. 
oh-my-opencode의 오케스트레이션 패턴을 참고하여 만들어졌으며, 개발 작업을 자동화하고 코드 품질을 향상시키는 데 도움을 줍니다.

### 주요 특징

| 특징 | 설명 |
|------|------|
| ⚡ **API 비용 무료** | Antigravity OAuth 인증 활용으로 별도 API 비용 없음 |
| 🔄 **자동화된 워크플로우** | `/develop`, `/review`, `/research`, `/document` 명령어 |
| 🤖 **5개 전문 에이전트** | 역할별로 특화된 AI 에이전트들이 협업 |
| 🔍 **객관적 코드 검토** | Boris 방식의 Context Bias 제거 패턴 |
| 🛠️ **재사용 가능한 스킬** | 코드 분석, 웹 스크래핑, API 생성, 콘텐츠 생성 |

---

## ⚡ 빠른 시작

### Step 1: 폴더 열기
Antigravity에서 `my-agent-system` 폴더를 엽니다.

### Step 2: 자동 설정
`GEMINI.md` 파일이 자동으로 프로젝트 규칙으로 적용됩니다.

### Step 3: 워크플로우 사용
```
/develop 새로운 기능을 추가해줘
```

**그게 전부입니다!** 🎉

---

## 📋 워크플로우 명령어

### 1️⃣ `/develop` - 개발 워크플로우

**용도**: 새로운 기능 개발, 버그 수정, 리팩토링

```bash
/develop 사용자 로그인 기능을 구현해줘
/develop 버그 수정: 페이지 로딩이 느려요
/develop payment 모듈을 리팩토링해줘
```

**실행 단계**:
1. 요구사항 분석 (Orchestrator)
2. 기존 코드 조사 (Researcher)
3. 구현 계획 수립 → **사용자 확인**
4. 코드 작성 (Coder)
5. 테스트 실행
6. HANDOFF.md 생성
7. 코드 검토 (새 세션에서 `/review`)
8. 문서화 (Documenter)

---

### 2️⃣ `/review` - 코드 검토 워크플로우

**용도**: 작성된 코드의 객관적 검토 (Boris 방식)

```bash
/review
```

> ⚠️ **중요**: 반드시 **새 세션**에서 실행하세요!  
> 코드를 작성한 세션과 같은 세션에서 검토하면 Context Bias가 발생합니다.

**검토 항목**:
- 🐛 **버그 체크**: null 처리, 배열 범위, 비동기 오류
- 🔒 **보안 체크**: 입력 검증, SQL 인젝션, XSS
- ⚡ **성능 체크**: 불필요한 반복, N+1 쿼리
- 📖 **가독성 체크**: 네이밍, 주석, 복잡도

**심각도 레벨**:
| 레벨 | 아이콘 | 조치 |
|------|--------|------|
| 높음 | 🔴 | 즉시 수정 필요 |
| 중간 | 🟡 | 수정 권장 |
| 낮음 | 🟢 | 선택적 수정 |

---

### 3️⃣ `/research` - 리서치 워크플로우

**용도**: 기술 조사, 코드베이스 분석, 문서 조사

```bash
/research React Server Components 최신 동향
/research 이 프로젝트의 인증 방식 분석
/research TypeScript 5.0 새 기능
```

**활용 가능한 조사**:
- 웹 검색으로 최신 기술 동향 파악
- 기존 코드베이스 구조 분석
- 외부 라이브러리/API 문서 조사
- 경쟁 분석 및 벤치마킹

---

### 4️⃣ `/document` - 문서화 워크플로우

**용도**: README, API 문서, 가이드 작성

```bash
/document 이 프로젝트의 README 작성
/document API 레퍼런스 문서 작성
/document 설치 가이드 만들어줘
```

**생성 가능한 문서**:
- README.md
- API 레퍼런스
- 설치/배포 가이드
- 튜토리얼
- 릴리스 노트

---

## 🤖 에이전트 시스템

### 에이전트 역할 다이어그램

```
┌─────────────────────────────────────────────────────┐
│                   사용자 요청                        │
└─────────────────────┬───────────────────────────────┘
                      ▼
         ┌────────────────────────┐
         │   🎯 Orchestrator      │ ← 총괄 지휘자
         │   작업 분석 & 위임      │
         └──────────┬─────────────┘
                    │
      ┌─────────────┼─────────────┐
      ▼             ▼             ▼
┌──────────┐  ┌──────────┐  ┌──────────┐
│ 🔍       │  │ 💻       │  │ 📝       │
│Researcher│  │  Coder   │  │Documenter│
│ 조사     │  │  구현    │  │  문서화  │
└──────────┘  └──────────┘  └──────────┘
                    │
                    ▼
         ┌────────────────────────┐
         │   🔎 Reviewer          │ ← 새 세션에서 실행
         │   품질 검증             │
         └────────────────────────┘
```

### 각 에이전트 상세

| 에이전트 | 역할 | 담당 업무 |
|----------|------|-----------|
| **Orchestrator** | 지휘자 | 요청 분석, 작업 분해, 에이전트 위임, 결과 종합 |
| **Researcher** | 조사원 | 웹 검색, 코드베이스 분석, 기술 문서 조사 |
| **Coder** | 개발자 | 코드 작성, 버그 수정, 리팩토링, 테스트 |
| **Reviewer** | 검토자 | 코드 리뷰, 버그 탐지, 보안 검토, 품질 검증 |
| **Documenter** | 문서화 | README, API 문서, 가이드, 주석 작성 |

---

## 🛠️ 스킬 가이드

### 스킬이란?
재사용 가능한 작업 패턴과 가이드라인입니다. 각 스킬은 특정 작업을 수행하는 방법을 정의합니다.

### 사용 가능한 스킬

#### 1. 📊 Code Analyzer
**용도**: 코드베이스 구조 분석, 패턴 파악, 의존성 분석

**언제 사용?**
- 새 프로젝트 분석 시
- 리팩토링 전 현황 파악
- 의존성 문제 해결 시

**분석 결과 예시**:
```
프로젝트 구조:
├── 아키텍처: Next.js 14 App Router
├── 패턴: Server Components
└── 주요 의존성: Prisma, NextAuth
```

---

#### 2. 🌐 Web Scraper
**용도**: 웹 페이지에서 정보 수집

**언제 사용?**
- 외부 문서/API 정보 수집
- 기술 블로그 참조
- 경쟁 분석

**수집 방법**:
- `read_url_content`: HTML 직접 읽기 (권장)
- `browser_subagent`: JavaScript 실행 필요 시
- `search_web`: 정보 탐색

---

#### 3. 🔧 API Generator
**용도**: RESTful/GraphQL API 설계 및 생성

**지원 스택**:
- Node.js: Express, Next.js API Routes
- Python: FastAPI, Flask

**생성 예시**:
```
POST /api/users    → 사용자 생성
GET  /api/users    → 사용자 목록
GET  /api/users/1  → 사용자 조회
PUT  /api/users/1  → 사용자 수정
DELETE /api/users/1 → 사용자 삭제
```

---

#### 4. ✍️ Content Creator
**용도**: 문서, 블로그, 스크립트 생성

**생성 가능한 콘텐츠**:
- 기술 문서 (README, API 문서)
- 블로그 포스트
- 튜토리얼
- 발표 스크립트

---

## 🔁 피드백 루프 (Boris 방식)

### 왜 필요한가요?

같은 세션에서 코드를 작성하고 검토하면 **Context Bias**가 발생합니다.
작성자가 자신의 코드를 객관적으로 평가하기 어렵기 때문입니다.

### 패턴 흐름

```
┌────────────┐     ┌────────────┐     ┌────────────┐     ┌────────────┐
│  Develop   │ ──▶ │  Handoff   │ ──▶ │   Clear    │ ──▶ │   Verify   │
│ 코드 작성  │     │ 기록 작성   │     │ 새 세션    │     │ 검토 실행  │
└────────────┘     └────────────┘     └────────────┘     └────────────┘
     ↑                                                         │
     └─────────────── 수정이 필요한 경우 ──────────────────────┘
```

### 실전 적용 방법

**세션 1** (개발):
```
/develop 사용자 프로필 기능 추가
→ 코드 구현 완료
→ HANDOFF.md 자동 생성
```

**세션 2** (검토):
```
새 대화 시작
/review
→ 객관적 코드 검토
→ 피드백 받기
```

---

## 📄 템플릿

### HANDOFF.md (작업 인수인계)

개발 후 자동으로 생성되는 문서입니다. 다음 내용을 포함합니다:

- **변경 요약**: 작업 목적, 변경 유형
- **변경된 파일**: 파일 경로, 변경 유형, 설명
- **구현 내용**: 주요 변경 사항, 핵심 로직
- **설계 결정**: 선택한 방법, 이유, 고려한 대안
- **테스트**: 테스트 방법, 결과
- **리뷰 체크포인트**: 집중해서 봐야 할 부분

---

## 🎮 실전 예시

### 예시 1: 새 API 엔드포인트 추가

```bash
# 1. 개발 시작
/develop 상품 검색 API를 추가해줘

# 2. 결과
→ GET /api/products/search?q=키워드 엔드포인트 생성
→ 테스트 통과
→ HANDOFF.md 생성됨

# 3. 새 세션에서 검토
/review

# 4. 피드백 반영 후 완료
```

### 예시 2: 기술 조사

```bash
/research Next.js 15의 새로운 기능들

# 결과
→ 웹 검색 결과 정리
→ 주요 변경점 요약
→ 프로젝트 적용 가능성 분석
```

### 예시 3: 문서 작성

```bash
/document 이 프로젝트의 API 문서 작성

# 결과
→ 모든 엔드포인트 분석
→ API Reference 문서 생성
→ 사용 예시 포함
```

---

## ❓ FAQ

### Q: 워크플로우 명령어가 작동하지 않아요
**A**: Antigravity에서 `my-agent-system` 폴더를 직접 열었는지 확인하세요. `.agent/workflows/` 폴더가 인식되어야 합니다.

### Q: `/review`를 같은 세션에서 해도 되나요?
**A**: 권장하지 않습니다. Context Bias를 제거하기 위해 반드시 새 세션에서 실행하세요.

### Q: 스킬을 직접 호출할 수 있나요?
**A**: 스킬은 에이전트들이 내부적으로 참조합니다. `/research` 워크플로우 실행 시 자동으로 적절한 스킬이 활용됩니다.

### Q: HANDOFF.md는 매번 새로 만들어지나요?
**A**: 네, 각 개발 작업이 완료될 때마다 새로 생성됩니다. 이전 파일은 수동으로 보관하거나 삭제하세요.

### Q: MCP를 사용할 수 있나요?
**A**: 토큰 효율성을 위해 MCP 사용을 권장하지 않습니다.  직접 통합 방식을 사용합니다.

---

## 📁 프로젝트 구조 요약

```
my-agent-system/
├── 📄 GEMINI.md              # 프로젝트 규칙 (자동 적용)
├── 📄 README.md              # 프로젝트 개요
├── 📄 USAGE_GUIDE.md         # 이 문서!
│
├── 📂 .agent/workflows/      # 워크플로우 정의
│   ├── develop.md            # /develop
│   ├── review.md             # /review
│   ├── research.md           # /research
│   └── document.md           # /document
│
├── 📂 agents/                # 에이전트 프롬프트
│   ├── orchestrator.md
│   ├── researcher.md
│   ├── coder.md
│   ├── reviewer.md
│   └── documenter.md
│
├── 📂 skills/                # 재사용 스킬
│   ├── code-analyzer/
│   ├── web-scraper/
│   ├── api-generator/
│   └── content-creator/
│
└── 📂 templates/             # 템플릿
    └── HANDOFF.md
```

---

<div align="center">

**Made with ❤️ for Antigravity AI**

</div>
